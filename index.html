<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All In Car Service - Est√©tica Automotiva de Alto Padr√£o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* Paleta de Cores Inspirada na refer√™ncia (Aora Boni) com a cor da sua marca (Azul) */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #ffffff; /* Fundo branco principal */
            color: #1f2937; /* Cor do texto principal (cinza escuro) */
        }
        h1, h2, h3, .font-montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #3b82f6; /* text-blue-500 */
            border-bottom-color: #3b82f6; /* border-blue-500 */
        }
        .service-card {
            transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
            border: 1px solid #e5e7eb; /* border-gray-200 */
        }
        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px -5px rgb(0 0 0 / 0.1);
            border-color: #3b82f6; /* border-blue-500 */
        }
        .film-button {
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
        }
        .film-button.active {
            background-color: #3b82f6; /* bg-blue-500 */
            color: white;
            border-color: #3b82f6;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #3b82f6; /* blue-500 */
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-white text-gray-800">

    <header class="bg-white/80 backdrop-blur-sm shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex justify-between items-center">
                <a href="#" class="flex items-center gap-4">
                    <svg class="h-8 w-auto" viewBox="0 0 130 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 20 H30" stroke="#1f2937" stroke-width="2.5"/>
                        <path d="M0 25 H20" stroke="#1f2937" stroke-width="1.5"/>
                        <path d="M0 29 H15" stroke="#1f2937" stroke-width="1"/>
                        <path d="M40 1L60 25L40 49" fill="#1f2937"/>
                        <path d="M70 1L90 25L70 49" fill="#6b7280"/>
                        <path d="M100 1L120 25L100 49" fill="#3b82f6"/>
                    </svg>
                    <div class="flex flex-col -space-y-1">
                        <span class="text-2xl font-extrabold text-gray-800 tracking-wide font-montserrat">ALL IN</span>
                        <span class="text-xs font-medium text-gray-500 tracking-widest font-montserrat">CAR SERVICE</span>
                    </div>
                </a>
                <div class="hidden md:flex items-center space-x-6 text-gray-600">
                    <a href="#servicos" class="nav-link pb-1">Servi√ßos</a>
                    <a href="#peliculas" class="nav-link pb-1">Pel√≠culas</a>
                    <a href="#vitrificacao" class="nav-link pb-1">Vitrifica√ß√£o</a>
                    <a href="#ppf" class="nav-link pb-1">PPF</a>
                    <a href="#pacotes-personalizados" class="nav-link pb-1">Pacotes</a>
                    <a href="#contato" class="nav-link pb-1">Contato</a>
                </div>
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-800 focus:outline-none">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
            <div id="mobile-menu" class="hidden md:hidden mt-4 bg-white rounded-lg shadow-xl">
                <a href="#servicos" class="block py-2 px-4 text-sm hover:bg-gray-100">Servi√ßos</a>
                <a href="#peliculas" class="block py-2 px-4 text-sm hover:bg-gray-100">Pel√≠culas</a>
                <a href="#vitrificacao" class="block py-2 px-4 text-sm hover:bg-gray-100">Vitrifica√ß√£o</a>
                <a href="#ppf" class="block py-2 px-4 text-sm hover:bg-gray-100">PPF</a>
                <a href="#pacotes-personalizados" class="block py-2 px-4 text-sm hover:bg-gray-100">Pacotes</a>
                <a href="#contato" class="block py-2 px-4 text-sm hover:bg-gray-100">Contato</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero" class="bg-gray-100 text-gray-800 text-center py-20 px-6" style="background-image: url('https://images.unsplash.com/photo-1549927681-0b673b8243ab?q=80&w=1920&auto=format&fit=crop'); background-size: cover; background-position: center;">
            <div class="bg-white/80 backdrop-blur-sm rounded-lg p-8 max-w-4xl mx-auto">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 font-montserrat">Est√©tica Automotiva de Alto Padr√£o</h1>
                <p class="text-lg md:text-xl mb-8 text-gray-600">Transformando ve√≠culos, superando expectativas. Qualidade que voc√™ v√™ e sente.</p>
                <a href="https://wa.me/5571999245513?text=Ol%C3%A1!%20Visitei%20o%20site%20da%20All%20In%20Car%20Service%20e%20gostaria%20de%20mais%20informa%C3%A7%C3%B5es." target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300">Agende seu Servi√ßo</a>
            </div>
        </section>

        <section id="servicos" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4 font-montserrat text-gray-900">Nossos Servi√ßos</h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Oferecemos uma gama completa de servi√ßos para cuidar de cada detalhe do seu ve√≠culo. Nossos processos utilizam os melhores produtos e t√©cnicas para garantir um resultado impec√°vel.</p>
                <div id="servicos-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
            </div>
        </section>

        <section id="peliculas" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4 font-montserrat text-gray-900">Pel√≠culas de Prote√ß√£o Solar</h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Nossas pel√≠culas de alta performance oferecem o equil√≠brio perfeito entre conforto, prote√ß√£o, seguran√ßa e estilo. Explore nossas linhas para encontrar a solu√ß√£o ideal.</p>
                <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-12">
                </div>
                <div class="grid lg:grid-cols-2 gap-12 items-center">
                    <div id="film-details" class="bg-white p-8 rounded-lg shadow-md">
                    </div>
                    <div class="chart-container">
                        <canvas id="filmChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="vitrificacao" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4 font-montserrat text-gray-900">Vitrifica√ß√£o Cer√¢mica</h2>
                 <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">A vitrifica√ß√£o cria uma barreira de prote√ß√£o ultra resistente sobre as superf√≠cies do ve√≠culo, com um brilho intenso e profundo que protege contra micro-riscos, raios UV e agentes qu√≠micos.</p>
                <div id="vitrificacao-container" class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                </div>
            </div>
        </section>

        <section id="ppf" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4 font-montserrat text-gray-900">PPF - Pel√≠cula de Prote√ß√£o de Pintura</h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">O PPF √© a defesa definitiva para a pintura do seu carro. Esta pel√≠cula praticamente invis√≠vel absorve impactos, previne riscos e manchas, preservando a originalidade e o valor do seu ve√≠culo.</p>
                <div id="ppf-container" class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                </div>
            </div>
        </section>

        <section id="pacotes-personalizados" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl font-bold text-center mb-4 font-montserrat text-gray-900">Monte Seu Pacote Personalizado</h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Selecione os servi√ßos que deseja e deixe nossa IA criar uma descri√ß√£o exclusiva para o seu pacote, destacando os benef√≠cios combinados para o seu ve√≠culo.</p>
                
                <div class="bg-gray-50 p-8 rounded-lg shadow-sm mb-12 border">
                    <h3 class="text-2xl font-bold mb-4 font-montserrat text-gray-900">Servi√ßos Selecionados:</h3>
                    <div id="selected-services-list" class="flex flex-wrap gap-2 mb-4 border-b border-gray-200 pb-4 min-h-[4rem]">
                        <p class="text-gray-500 italic" id="empty-selection-message">Nenhum servi√ßo selecionado. Clique em "Adicionar ao Pacote" nos cart√µes de servi√ßo.</p>
                    </div>
                    
                    <div class="text-right font-bold text-2xl mt-4 font-montserrat text-blue-600" id="package-total-price">
                    </div>
                    
                    <div class="flex flex-col md:flex-row justify-center items-center gap-4 mt-6">
                        <button id="generate-package-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 flex items-center justify-center">
                            Gerar Descri√ß√£o do Pacote
                            <div id="spinner" class="spinner ml-3 hidden"></div>
                        </button>
                        <button id="clear-package-btn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-8 rounded-full text-lg transition duration-300">
                            Limpar Sele√ß√£o
                        </button>
                    </div>
                </div>

                <div id="package-description-output" class="bg-blue-50 border border-blue-200 p-8 rounded-lg shadow-inner hidden">
                    <h3 class="text-2xl font-bold mb-4 text-blue-800 font-montserrat">Sua Descri√ß√£o de Pacote Personalizada:</h3>
                    <p id="generated-description" class="text-gray-700 leading-relaxed"></p>
                </div>
            </div>
        </section>

        <section id="contato" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center">
                    <h2 class="text-4xl font-bold mb-4 font-montserrat text-gray-900">Entre em Contato</h2>
                    <p class="text-gray-600 mb-10">Estamos prontos para atender voc√™. Agende seu hor√°rio e venha nos conhecer.</p>
                </div>
                <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8 grid md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <h3 class="text-2xl font-bold font-montserrat text-gray-900">All In Car Service</h3>
                        <p><span>üìç</span> <a href="https://g.co/kgs/haXVUnX" target="_blank" class="text-blue-600 hover:text-blue-700 hover:underline">Pra√ßa do Barbalho, 70 ‚Äì Salvador/BA</a></p>
                        <p><span>üìû</span> (71) 99924-5513</p>
                        <p><span>üìß</span> studiodkssa@gmail.com</p>
                        <p><span>üì±</span> Instagram: <a href="https://www.instagram.com/allincarservice/" target="_blank" class="text-blue-600 hover:text-blue-700">@allincarservice</a></p>
                    </div>
                    <div class="space-y-4">
                        <h3 class="text-2xl font-bold font-montserrat text-gray-900">Hor√°rio de Atendimento</h3>
                        <p><span>üïí</span> Segunda a sexta: 9h √†s 18h</p>
                        <p><span>üïí</span> S√°bado: 10h √†s 16h</p>
                        <p class="mt-4 pt-4 border-t border-gray-200"><span>‚ö†Ô∏è</span> Atendimento somente com agendamento pr√©vio.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-white text-gray-800 text-center py-6 border-t">
        <p class="text-gray-500">&copy; 2025 All In Car Service. Todos os direitos reservados.</p>
    </footer>

    <!-- Bot√£o Flutuante do WhatsApp -->
    <a href="https://wa.me/5571999245513?text=Ol%C3%A1!%20Visitei%20o%20site%20da%20All%20In%20Car%20Service%20e%20gostaria%20de%20mais%20informa%C3%A7%C3%B5es." target="_blank" class="fixed bottom-5 right-5 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg z-50 transition-transform hover:scale-110 flex items-center justify-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor">
        <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99 0-3.903-.52-5.586-1.456l-6.167 1.679zm6.489-4.829a.95.95 0 00-.472.271l-.813.805c-.324.322-.726.544-1.142.616l-.21.036c-.436.074-1.127-.15-1.584-.607-.458-.458-.934-1.254-1.12-1.864-.185-.611-.05-1.164.35-1.564l.8-.8c.27-.27.464-.596.536-.95.072-.354.004-.736-.2-1.002l-1.33-1.84c-.392-.544-.882-.89-1.488-.89-.486 0-1.018.17-1.438.51l-.2.16c-.48.396-.86.864-1.08 1.382-.22.518-.248 1.152-.087 1.763.16 6.044 5.215 10.457 11.233 10.457h.003c1.77.001 3.51-.555 4.97-1.618l.187-.145c.436-.338.78-.763.98-1.24.2-.477.262-1.03.14-1.546l-.042-.17c-.12-.496-.346-.91-.68-1.246l-.805-.806a.95.95 0 00-.616-.271c-.354 0-.71.134-1.002.426l-1.84 1.33c-.266.196-.58.264-.9.2.318-1.05.47-2.16.47-3.273s-.152-2.223-.47-3.273c.32-.064.634-.004.9-.196l1.84-1.33c.292-.292.426-.648.426-1.002z"/>
      </svg>
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // ATEN√á√ÉO: A Chave de API est√° exposta. Idealmente, deve ser protegida por um backend (fun√ß√£o serverless).
            // Esta vers√£o √© para testes e desenvolvimento local.
            const apiKey = "AIzaSyDg9jeQuPGY_W033dKr_WYk4xyZevcPQVk"; 

            const data = {
                servicos: [
                    { id: 'lavagem-tecnica', title: "Lavagem T√©cnica Detalhada", desc: "Lavagem com shampoo neutro, luvas de microfibra, limpeza de rodas e secagem t√©cnica.", price: 120, type: "servico", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>` },
                    { id: 'descontaminacao', title: "Descontamina√ß√£o de Pintura", desc: "Remove piche, respingos de tinta e outras impurezas da pintura, restaurando sua lisura.", price: 280, type: "servico", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" /></svg>` },
                    { id: 'polimento-tecnico', title: "Polimento T√©cnico", desc: "Corre√ß√£o de micro-riscos e opacidade, devolvendo o brilho original da pintura.", price: 750, type: "servico", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.998 15.998 0 011.622-3.385m5.043.025a2.25 2.25 0 012.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 00-3.388-1.62m-5.043-.025a15.998 15.998 0 01-1.622-3.385m12.062 6.25a2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 00-8.4 2.245c0 .399.078.78.22 1.128m0 0a15.998 15.998 0 003.388 1.62m5.043.025a15.998 15.998 0 011.622 3.385m-5.043-.025a2.25 2.25 0 01-2.4-2.245 4.5 4.5 0 00-8.4 2.245c0 .399.078.78.22 1.128m0 0a15.998 15.998 0 003.388 1.62m-5.043-.025a15.998 15.998 0 011.622-3.385" /></svg>` },
                    { id: 'higienizacao-interna', title: "Higieniza√ß√£o Interna", desc: "Limpeza detalhada de bancos, carpetes e tetos, com uso de produtos bactericidas.", price: 450, type: "servico", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z" /><path stroke-linecap="round" stroke-linejoin="round" d="M16.857 6.987L22.5 12l-5.643 5.013M3 12h18" /></svg>` },
                ],
                peliculas: [
                    { id: 'blue', name: "Window Blue", icon: 'üî∑', tagline: "Prote√ß√£o invis√≠vel com tecnologia de √∫ltima gera√ß√£o.", desc: "Pel√≠cula quase transparente, ideal para quem deseja prote√ß√£o t√©rmica e solar sem escurecer os vidros.", indicacao: "Indicada para ve√≠culos de alto padr√£o ou clientes que priorizam discri√ß√£o e tecnologia invis√≠vel.", specs: { calor: 89, uv: 99, vlt: 76, garantia: 'vital√≠cia'}, prices: { laterais: 1300, parabrisa: 900, completo: 2000 } },
                    { id: 'premium', name: "Window Premium", icon: 'üî∏', tagline: "Alta prote√ß√£o t√©rmica com visual sofisticado.", desc: "Pel√≠cula nanocer√¢mica com excelente equil√≠brio entre desempenho e est√©tica.", indicacao: "Dispon√≠vel em diversas tonalidades (G5 a G50).", specs: { calor: 90, uv: 99, vlt: "Vari√°vel", garantia: 'vital√≠cia'}, prices: { laterais: 800, parabrisa: 500, completo: 1200 } },
                    { id: 'protection', name: "Premium Total Protection", icon: 'üî∂', tagline: "O m√°ximo em prote√ß√£o t√©rmica, solar e f√≠sica.", desc: "Acrescenta camada antivandalismo, ideal para quem deseja o mais alto n√≠vel de seguran√ßa contra estilha√ßos.", indicacao: "Mant√©m fragmentos em caso de impacto, aumentando a seguran√ßa.", specs: { calor: 90, uv: 99, vlt: "Vari√°vel", garantia: 'vital√≠cia'}, prices: { laterais: 1050, parabrisa: 700, completo: 1600 } },
                    { id: 'carbono', name: "Window Carbono", icon: 'üü•', tagline: "Estilo esportivo e alta durabilidade.", desc: "Pel√≠cula com part√≠culas de nano carbono, oferece est√©tica fum√™ escura com excelente estabilidade de cor.", indicacao: "Alta resist√™ncia ao desbotamento e bolhas. √ìtimo custo-benef√≠cio.", specs: { calor: 75, uv: 99, vlt: "Vari√°vel", garantia: '10+ anos'}, prices: { laterais: 450, parabrisa: 300, completo: 600 } },
                ],
                vitrificacao: [
                    { id: 'vit-pintura', title: "Vitrifica√ß√£o de Pintura", desc: "Prote√ß√£o premium por at√© 5 anos. Inclui polimento t√©cnico.", price: 1800, durabilidade: "At√© 5 anos", type: "vitrificacao", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z" /></svg>` },
                    { id: 'vit-rodas', title: "Vitrifica√ß√£o de Rodas", desc: "Coating resistente ao calor e sujeira de freio.", price: 500, durabilidade: "12 a 18 meses", type: "vitrificacao", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="7.5" /><path stroke-linecap="round" stroke-linejoin="round" d="M15.91 15.91a10.023 10.023 0 01-7.82 0" /></svg>` },
                    { id: 'vit-couro', title: "Vitrifica√ß√£o de Couro", desc: "Limpeza, hidrata√ß√£o e selante cer√¢mico impermeabilizante.", price: 450, durabilidade: "6 a 12 meses", type: "vitrificacao", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15" /></svg>` },
                ],
                ppf: [
                    { id: 'ppf-full', title: "PPF Full Protection", desc: "Prote√ß√£o completa para a pintura do ve√≠culo inteiro.", price: 18000, type: "ppf", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z" /></svg>` },
                    { id: 'ppf-frontal', title: "PPF Prote√ß√£o Frontal", desc: "Cap√¥, para-choques e retrovisores.", price: 7000, type: "ppf", icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>` },
                ]
            };

            const allServices = [ ...data.servicos, ...data.vitrificacao, ...data.ppf ];
            let selectedPackageServices = [];

            const servicosContainer = document.getElementById('servicos-container');
            const vitrificacaoContainer = document.getElementById('vitrificacao-container');
            const ppfContainer = document.getElementById('ppf-container');

            function renderServiceCards(container, services, showAddButton = false) {
                services.forEach(servico => {
                    const card = document.createElement('div');
                    card.className = 'service-card bg-white p-6 rounded-lg shadow-sm text-center flex flex-col items-center';
                    
                    let priceDisplay = `<p class="text-xl font-bold text-blue-600">A partir de R$ ${servico.price.toFixed(2)}</p>`;
                    if (servico.durabilidade) {
                        priceDisplay += `<p class="text-xs text-gray-500 mt-1">Durabilidade: ${servico.durabilidade}</p>`;
                    }
                    
                    card.innerHTML = `
                        ${servico.icon || ''}
                        <h3 class="text-lg font-bold mt-4 mb-2 font-montserrat text-gray-900">${servico.title}</h3>
                        <p class="text-gray-600 text-sm mb-4 flex-grow">${servico.desc}</p>
                        <div class="mt-auto w-full">
                            ${priceDisplay}
                            ${showAddButton ? `<button data-service-id="${servico.id}" class="add-to-package-btn mt-4 w-full bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold py-2 px-4 rounded-lg transition duration-300">Adicionar ao Pacote</button>` : ''}
                        </div>
                    `;
                    container.appendChild(card);
                });
            }

            renderServiceCards(servicosContainer, data.servicos, true);
            renderServiceCards(vitrificacaoContainer, data.vitrificacao, true);
            renderServiceCards(ppfContainer, data.ppf, true);

            const selectedServicesList = document.getElementById('selected-services-list');
            const emptySelectionMessage = document.getElementById('empty-selection-message');
            const generatePackageBtn = document.getElementById('generate-package-btn');
            const clearPackageBtn = document.getElementById('clear-package-btn');
            const packageDescriptionOutput = document.getElementById('package-description-output');
            const generatedDescription = document.getElementById('generated-description');
            const spinner = document.getElementById('spinner');
            const packageTotalPriceElement = document.getElementById('package-total-price');

            function updateSelectedServicesList() {
                selectedServicesList.innerHTML = '';
                if (selectedPackageServices.length === 0) {
                    emptySelectionMessage.classList.remove('hidden');
                    selectedServicesList.appendChild(emptySelectionMessage);
                } else {
                    emptySelectionMessage.classList.add('hidden');
                    selectedPackageServices.forEach(service => {
                        const tag = document.createElement('span');
                        tag.className = 'bg-gray-200 text-gray-800 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded-full flex items-center';
                        tag.innerHTML = `${service.title} <button data-service-id="${service.id}" class="remove-service-btn ml-2 text-gray-500 hover:text-gray-900">x</button>`;
                        selectedServicesList.appendChild(tag);
                    });
                }
                const totalPrice = selectedPackageServices.reduce((total, service) => total + service.price, 0);
                packageTotalPriceElement.textContent = totalPrice > 0 ? `Total do Pacote: R$ ${totalPrice.toFixed(2).replace('.', ',')}` : '';
            }

            document.querySelectorAll('.add-to-package-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    const serviceId = event.target.dataset.serviceId;
                    const service = allServices.find(s => s.id === serviceId);
                    if (service && !selectedPackageServices.some(s => s.id === serviceId)) {
                        selectedPackageServices.push(service);
                        updateSelectedServicesList();
                    }
                });
            });

            selectedServicesList.addEventListener('click', (event) => {
                if (event.target.classList.contains('remove-service-btn')) {
                    const serviceIdToRemove = event.target.dataset.serviceId;
                    selectedPackageServices = selectedPackageServices.filter(s => s.id !== serviceIdToRemove);
                    updateSelectedServicesList();
                }
            });

            clearPackageBtn.addEventListener('click', () => {
                selectedPackageServices = [];
                updateSelectedServicesList();
                packageDescriptionOutput.classList.add('hidden');
                generatedDescription.textContent = '';
            });

            generatePackageBtn.addEventListener('click', async () => {
                if (selectedPackageServices.length === 0) {
                    generatedDescription.textContent = "Por favor, selecione pelo menos um servi√ßo para gerar a descri√ß√£o do pacote.";
                    packageDescriptionOutput.classList.remove('hidden');
                    return;
                }
                spinner.classList.remove('hidden');
                generatePackageBtn.disabled = true;
                generatedDescription.textContent = '';
                packageDescriptionOutput.classList.remove('hidden');

                const serviceTitles = selectedPackageServices.map(s => s.title).join(', ');
                const prompt = `Gere uma descri√ß√£o atraente e premium para um pacote de est√©tica automotiva que inclui os seguintes servi√ßos: ${serviceTitles}. Destaque os benef√≠cios combinados e a qualidade superior da All In Car Service. Seja conciso e persuasivo, usando no m√°ximo 150 palavras.`;
                
                try {
                    const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] };
                    if (!apiKey) throw new Error("A chave da API do Gemini n√£o foi configurada.");
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`;
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0) {
                        generatedDescription.textContent = result.candidates[0].content.parts[0].text;
                    } else if (result.error) {
                        generatedDescription.textContent = `Erro da API: ${result.error.message}. Verifique sua chave de API.`;
                    } else {
                        generatedDescription.textContent = "N√£o foi poss√≠vel gerar a descri√ß√£o. A resposta da API estava vazia.";
                    }
                } catch (error) {
                    console.error("Erro ao chamar a API Gemini:", error);
                    generatedDescription.textContent = `Ocorreu um erro: ${error.message}.`;
                } finally {
                    spinner.classList.add('hidden');
                    generatePackageBtn.disabled = false;
                }
            });

            updateSelectedServicesList();
            const filmButtonsContainer = document.querySelector('#peliculas .flex');
            const filmDetailsContainer = document.getElementById('film-details');
            let filmChart;

            function updateFilmDetails(filmId) {
                const film = data.peliculas.find(f => f.id === filmId);
                filmDetailsContainer.innerHTML = `<h3 class="text-3xl font-bold mb-2 font-montserrat text-gray-900">${film.icon} ${film.name}</h3><p class="text-lg text-blue-600 font-semibold mb-4">${film.tagline}</p><p class="text-gray-600 mb-4">${film.desc}</p><p class="bg-gray-100 p-3 rounded-md mb-6 text-gray-700">üí° ${film.indicacao}</p><div class="space-y-2"><h4 class="text-xl font-semibold mb-2 font-montserrat text-gray-900">Detalhes T√©cnicos:</h4><p class="flex justify-between"><span>Redu√ß√£o de Calor:</span> <span class="font-bold">${film.specs.calor}%</span></p><p class="flex justify-between"><span>Bloqueio de Raios UV:</span> <span class="font-bold">${film.specs.uv}%</span></p><p class="flex justify-between"><span>Transmiss√£o de Luz Vis√≠vel:</span> <span class="font-bold">${film.specs.vlt}${typeof film.specs.vlt === 'number' ? '%' : ''}</span></p><p class="flex justify-between"><span>Garantia:</span> <span class="font-bold capitalize">${film.specs.garantia}</span></p></div><div class="mt-6 pt-4 border-t border-gray-200"><h4 class="text-xl font-semibold mb-2 font-montserrat text-gray-900">Valores:</h4><p class="flex justify-between"><span>Laterais + Traseira:</span> <span class="font-bold">R$ ${film.prices.laterais.toFixed(2).replace('.', ',')}</span></p><p class="flex justify-between"><span>Para-brisa:</span> <span class="font-bold">R$ ${film.prices.parabrisa.toFixed(2).replace('.', ',')}</span></p><p class="flex justify-between text-blue-600"><span>Combo Completo:</span> <span class="font-bold">R$ ${film.prices.completo.toFixed(2).replace('.', ',')}</span></p></div>`;
                document.querySelectorAll('.film-button').forEach(btn => btn.classList.toggle('active', btn.dataset.filmid === filmId));
                updateChartHighlight(filmId);
            }

            function updateChartHighlight(filmId) {
                const filmIndex = data.peliculas.findIndex(f => f.id === filmId);
                filmChart.data.datasets[0].backgroundColor = data.peliculas.map((_, index) => index === filmIndex ? '#3b82f6' : '#d1d5db');
                filmChart.update();
            }

            const chartCtx = document.getElementById('filmChart').getContext('2d');
            Chart.defaults.color = '#6b7280'; // Cor padr√£o do texto do gr√°fico (cinza)
            filmChart = new Chart(chartCtx, {
                type: 'bar',
                data: {
                    labels: data.peliculas.map(f => f.name),
                    datasets: [{ label: 'Redu√ß√£o de Calor (%)', data: data.peliculas.map(f => f.specs.calor), backgroundColor: '#d1d5db', borderColor: '#9ca3af', borderWidth: 1 }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false, indexAxis: 'y',
                    scales: {
                        x: { beginAtZero: true, max: 100, grid: { color: '#e5e7eb' }, title: { display: true, text: 'Efici√™ncia (%)' } },
                        y: { grid: { color: '#e5e7eb' }, ticks: { callback: function(value) { const label = this.getLabelForValue(value); return label.length > 16 ? label.substring(0, 16) + '...' : label; } } }
                    },
                    plugins: { legend: { display: false }, tooltip: { callbacks: { label: context => ` Redu√ß√£o de Calor: ${context.raw}%` } } }
                }
            });

            data.peliculas.forEach(film => {
                const button = document.createElement('button');
                button.className = 'film-button py-2 px-4 rounded-full border-2 border-gray-300 hover:bg-gray-100 text-gray-700';
                button.textContent = film.name;
                button.dataset.filmid = film.id;
                button.addEventListener('click', () => updateFilmDetails(film.id));
                filmButtonsContainer.appendChild(button);
            });
            updateFilmDetails(data.peliculas[0].id);

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            
            const navLinks = document.querySelectorAll('.nav-link, #mobile-menu a');
            const sections = document.querySelectorAll('main section');
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    if (pageYOffset >= section.offsetTop - 65) {
                        current = section.getAttribute('id');
                    }
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === current) {
                        link.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
